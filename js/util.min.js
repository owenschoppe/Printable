var util={};util.scheduleRequest=function(){var c=Math.pow(2,requestFailureCount);var a=Math.min(bgPage.pollIntervalMin*c,pollIntervalMax);a=Math.round(a);if(bgPage.oauth.hasToken()){var b=bgPage.window.setTimeout(function(){gdocs.getDocumentList();util.scheduleRequest()},a);bgPage.requests.push(b)}};util.stringify=function(a){var c=[];for(var b in a){c.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b]))}return c.join("&")};util.unstringify=function(b){var c=b.split("&");var f={};for(var a=0,e;e=c[a];++a){var d=e.split("=");f[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return f};util.displayMsg=function(a){$("#butter").removeClass("error").text(a).show()};util.hideMsg=function(){$("#butter").fadeOut(1500)};util.displayError=function(a){util.displayMsg(a);$("#butter").addClass("error")};gdocs.handleError=function(a,b){if(a.status!=0){util.displayError(a.status," ",a.statusText)}else{util.displayError("No internet connection.")}++requestFailureCount};
var row=[];var gdocs={};gdocs.printDocumentPage=function(a){console.log("printDocumentPage");chrome.tabs.create({url:"view.html"});if(a){a()}};gdocs.exportDocumentPage=function(a){console.log("exportDocument");chrome.tabs.create({url:"export.html"});if(a){a()}};gdocs.Row=function(b){for(var a in b){parts=a.toString().split("$");if(parts[0]=="gsx"){if(b.hasOwnProperty(a)){this[parts[1]]=b[a].$t}}}};gdocs.processDocContent=function(a,e,f){console.log("rows returned: ",e);row=[];if(e.status!=200){return}else{requestFailureCount=0}var d=JSON.parse(a);console.log("row data: ",d,Boolean(d.feed.entry));if(d.feed.entry){for(var b=0,c;c=d.feed.entry[b];++b){row.push(new gdocs.Row(c))}if(f){f()}}else{console.log("No entries");util.displayError("Invalid file.");util.hideMsg()}};gdocs.printDocument=function(a,e){if(a=="new"){return}var c="od6";var b=SPREAD_SCOPE+"/list/"+docKey+"/"+c+"/private/full";var d={headers:{"GData-Version":"3.0"},parameters:{alt:"json",}};bgPage.oauth.sendSignedRequest(b,function(f,g){gdocs.processDocContent(f,g,e)},d)};gdocs.exportDocument=function(a,e){if(a=="new"){return}console.log("exportDocument ",a);var c="od6";var b=SPREAD_SCOPE+"/list/"+docKey+"/"+c+"/private/full";var d={headers:{"GData-Version":"3.0"},parameters:{alt:"json",}};bgPage.oauth.sendSignedRequest(b,function(f,g){gdocs.processDocContent(f,g,e)},d)};